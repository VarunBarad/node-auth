<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
</head>
<body>
<h1>Blah content goes here</h1>

<h3>Register form</h3>
<form id="register-form">
	<input type="email" name="email">
	<input type="password" name="password">
	<button type="submit">Register</button>
</form>

<script>
	;(() => {
		const form = document.getElementById("register-form");
		form.addEventListener("submit", async (event) => {
			event.preventDefault();
			try {
				const formData = new FormData(form);
				const data = Object.fromEntries(formData.entries());
				console.log(data);

				await fetch("/api/register", {
					method: "POST",
					headers: { "Content-Type": "application/json; charset=UTF-8" },
					body: JSON.stringify(data)
				});
			} catch (e) {
				console.error(e);
			}
		});
	})();
</script>
</body>
</html>
